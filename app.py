import streamlit as st
import random

# --- ãƒšãƒ¼ã‚¸è¨­å®š ---
st.set_page_config(
    page_title="uprãƒã‚¹ã‚¿ãƒ¼ã‚¯ã‚¤ã‚º", 
    page_icon="ğŸšš",
    layout="wide"
)

# --- 1. å•é¡Œãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆ100å•ã‚¹ãƒˆãƒƒã‚¯ã®åŸºç›¤ï¼‰ ---
# æ³¨æ„: ALL_QUESTIONSãƒªã‚¹ãƒˆã«ã¯ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªï¼ˆé‡è¤‡ã—ãªã„ï¼‰å•é¡Œæ–‡ã¨é¸æŠè‚¢ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚
# ç¾åœ¨ã¯30å•ç¨‹åº¦ã§ã™ãŒã€ã“ã®ãƒªã‚¹ãƒˆã‚’100å•ã¾ã§å¢—ã‚„ã™ã“ã¨ã§ã€
# æ¯å›100å•ã®ä¸­ã‹ã‚‰é‡è¤‡ãªã10å•ãŒé¸ã°ã‚Œã¾ã™ã€‚

ALL_QUESTIONS = [
    # --- åŸºæœ¬æƒ…å ± (10å•) ---
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "upræ ªå¼ä¼šç¤¾ã®ç¾åœ¨ã®ä»£è¡¨å–ç· å½¹ç¤¾é•·ã¯èª°ï¼Ÿ",
        "answer": "é…’ç”° ç¾©çŸ¢",
        "options": ["é…’ç”° ä¸‰ç”·", "é…’ç”° ç¾©çŸ¢", "çŸ³æ‘ æµ©", "å¤§åº­ æ­£ä¿¡"],
        "explanation": "é…’ç”°ç¾©çŸ¢æ°ãŒä»£è¡¨å–ç· å½¹ç¤¾é•·ã§ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprã®å‰µæ¥­ã®åœ°ã§ã‚ã‚Šã€ç¾åœ¨ã‚‚äºŒæœ¬ç¤¾åˆ¶ã®ä¸€ç¿¼ã‚’æ‹…ã†éƒ½å¸‚ã¯ï¼Ÿ",
        "answer": "å±±å£çœŒå®‡éƒ¨å¸‚",
        "options": ["æ±äº¬éƒ½åƒä»£ç”°åŒº", "å¤§é˜ªåºœå¤§é˜ªå¸‚", "å±±å£çœŒå®‡éƒ¨å¸‚", "ç¦å²¡çœŒç¦å²¡å¸‚"],
        "explanation": "1979å¹´ã«å±±å£çœŒå®‡éƒ¨å¸‚ã§ã€Œã‚¦ãƒ™ãƒ‘ãƒ¬ãƒƒãƒˆæ ªå¼ä¼šç¤¾ã€ã¨ã—ã¦è¨­ç«‹ã•ã‚Œã¾ã—ãŸã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprã®ä¸»åŠ›äº‹æ¥­ã§ã‚ã‚Šã€å£²ä¸Šã®ç´„9å‰²ã‚’å ã‚ã‚‹ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã¯ï¼Ÿ",
        "answer": "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ»ç‰©æµæ©Ÿå™¨ã®ãƒ¬ãƒ³ã‚¿ãƒ«",
        "options": ["ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„ã®è£½é€ è²©å£²", "ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°äº‹æ¥­", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ»ç‰©æµæ©Ÿå™¨ã®ãƒ¬ãƒ³ã‚¿ãƒ«", "AIå€‰åº«ã‚·ã‚¹ãƒ†ãƒ é–‹ç™º"],
        "explanation": "ç‰©æµæ©Ÿå™¨ã€ç‰¹ã«ãƒ‘ãƒ¬ãƒƒãƒˆã®ãƒ¬ãƒ³ã‚¿ãƒ«äº‹æ¥­ãŒå‰µæ¥­ä»¥æ¥ã®æŸ±ã§ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprãŒä¸Šå ´ã—ã¦ã„ã‚‹è¨¼åˆ¸å¸‚å ´ã¯ï¼Ÿ",
        "answer": "æ±è¨¼ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰å¸‚å ´",
        "options": ["æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ å¸‚å ´", "æ±è¨¼ã‚°ãƒ­ãƒ¼ã‚¹å¸‚å ´", "æ±è¨¼ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰å¸‚å ´", "æœ­å¹Œè¨¼åˆ¸å–å¼•æ‰€"],
        "explanation": "2019å¹´ã«æ±è¨¼äºŒéƒ¨ã«ä¸Šå ´å¾Œã€ç¾åœ¨ã¯ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰å¸‚å ´ã«åŒºåˆ†ã•ã‚Œã¦ã„ã¾ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprãŒæ²ã’ã‚‹ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚¹ãƒ­ãƒ¼ã‚¬ãƒ³ã¯ï¼Ÿ",
        "answer": "Social Sharing Supporter",
        "options": ["Value Creation", "Social Sharing Supporter", "Logistics Revolution", "Connecting Tomorrow"],
        "explanation": "ã€Œç¤¾ä¼šã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚·ã‚§ã‚¢ã™ã‚‹uprã€ã‚’ç›®æŒ‡ã™ã¨ã„ã†æ„å‘³ãŒè¾¼ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprãŒãƒ¡ã‚¤ãƒ³ã§ãƒ¬ãƒ³ã‚¿ãƒ«æä¾›ã—ã¦ã„ã‚‹è·å½¹å°ã®åç§°ã¯ï¼Ÿ",
        "answer": "ãƒ‘ãƒ¬ãƒƒãƒˆ",
        "options": ["ã‚³ãƒ³ãƒ†ãƒŠ", "ãƒ‘ãƒ¬ãƒƒãƒˆ", "ãƒ•ã‚©ãƒ¼ã‚¯ãƒªãƒ•ãƒˆ", "ãƒˆãƒ©ãƒƒã‚¯"],
        "explanation": "ç‰©æµã«ä¸å¯æ¬ ãªãƒ‘ãƒ¬ãƒƒãƒˆã®ãƒ¬ãƒ³ã‚¿ãƒ«ãŒä¸­å¿ƒã§ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "ç¾åœ¨ã®æ±äº¬æœ¬ç¤¾ã®æ‰€åœ¨åœ°ãŒã‚ã‚‹åŒºã¯ï¼Ÿ",
        "answer": "åƒä»£ç”°åŒº",
        "options": ["ä¸­å¤®åŒº", "æ¸¯åŒº", "åƒä»£ç”°åŒº", "æ–°å®¿åŒº"],
        "explanation": "å†…å¹¸ç”ºæ±æ€¥ãƒ“ãƒ«ï¼ˆåƒä»£ç”°åŒºï¼‰ã«æ±äº¬æœ¬ç¤¾ãŒã‚ã‚Šã¾ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprã®å‰µæ¥­å¹´ã®è¥¿æš¦ã¯ï¼Ÿ",
        "answer": "1979å¹´",
        "options": ["1950å¹´", "1979å¹´", "1988å¹´", "2007å¹´"],
        "explanation": "1979å¹´ã«ã‚¦ãƒ™ãƒ‘ãƒ¬ãƒƒãƒˆæ ªå¼ä¼šç¤¾ã¨ã—ã¦è¨­ç«‹ã•ã‚Œã¾ã—ãŸã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprã®äº‹æ¥­ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ã†ã¡ã€å£²ä¸Šã®ç´„9å‰²ã‚’å ã‚ã‚‹ã®ã¯ï¼Ÿ",
        "answer": "ç‰©æµäº‹æ¥­",
        "options": ["ã‚³ãƒã‚¯ãƒ†ã‚£ãƒƒãƒ‰äº‹æ¥­", "ICTäº‹æ¥­", "ç‰©æµäº‹æ¥­", "ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°äº‹æ¥­"],
        "explanation": "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ¬ãƒ³ã‚¿ãƒ«ã‚’ä¸­å¿ƒã¨ã—ãŸç‰©æµäº‹æ¥­ãŒä¸­å¿ƒã§ã™ã€‚"
    },
    {
        "category": "åŸºæœ¬æƒ…å ±",
        "question": "uprãŒä¿æœ‰ã™ã‚‹ãƒ‘ãƒ¬ãƒƒãƒˆã®æšæ•°ï¼ˆæ¦‚ç®—ï¼‰ã¯ï¼Ÿ",
        "answer": "ç´„510ä¸‡æš",
        "options": ["ç´„100ä¸‡æš", "ç´„510ä¸‡æš", "ç´„1,000ä¸‡æš", "ç´„5,000ä¸‡æš"],
        "explanation": "2024å¹´8æœˆæ™‚ç‚¹ã§ç´„510ä¸‡æšã®ä¿æœ‰æšæ•°ã‚’èª‡ã£ã¦ã„ã¾ã™ã€‚"
    },
    # --- ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ã‚³ãƒã‚¯ãƒ†ã‚£ãƒƒãƒ‰äº‹æ¥­ (10å•) ---
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ç‰©æµç¾å ´ã®è² æ‹…ã‚’è»½æ¸›ã™ã‚‹uprã®è£…ç€å‹æ©Ÿå™¨ã®ç·ç§°ã¯ï¼Ÿ",
        "answer": "ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„",
        "options": ["ãƒ‘ãƒ¯ãƒ¼ãƒ‰ã‚¹ãƒ¼ãƒ„", "ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„", "ã‚µã‚¤ãƒœãƒ¼ã‚°", "ãƒ­ãƒœãƒƒãƒˆ"],
        "explanation": "ã€Œã‚µãƒãƒ¼ãƒˆã‚¸ãƒ£ã‚±ãƒƒãƒˆã€ã‚·ãƒªãƒ¼ã‚ºãªã©ã®ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„ã‚’å±•é–‹ã—ã¦ã„ã¾ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ä½ç½®ãƒ»æ¸©æ¹¿åº¦ãªã©ã‚’é éš”ç›£è¦–ã§ãã‚‹ç‰©æµIoTã‚µãƒ¼ãƒ“ã‚¹ã®åç§°ã¯ï¼Ÿ",
        "answer": "ãªã‚“ã¤ã„",
        "options": ["ã¿ã¾ã‚‚ã‚Šãã‚“", "ã©ã“ã§ã‚‚ã‚µãƒ¼ãƒ", "ãªã‚“ã¤ã„", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼"],
        "explanation": "ã€Œãªã‚“ã§ã‚‚è¿½è·¡ã€ã‚’ç•¥ã—ãŸã€ãªã‚“ã¤ã„ã€ã¯ã€GPSç«¯æœ«ã‚’æ´»ç”¨ã—ãŸå•†å“ã§ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–RFIDã‚¿ã‚°ã‚’æ­è¼‰ã—ã€åœ¨åº«ç®¡ç†ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ‘ãƒ¬ãƒƒãƒˆã®åç§°ã¯ï¼Ÿ",
        "answer": "ã‚¹ãƒãƒ¼ãƒˆãƒ‘ãƒ¬ãƒƒãƒˆ",
        "options": ["ãƒ‡ã‚¸ãƒ‘ãƒ¬ãƒƒãƒˆ", "ã‚¹ãƒãƒ¼ãƒˆãƒ‘ãƒ¬ãƒƒãƒˆ", "AIãƒ‘ãƒ¬ãƒƒãƒˆ", "ãƒŸãƒ©ã‚¯ãƒ«ãƒ‘ãƒ¬ãƒƒãƒˆ"],
        "explanation": "ãƒ‘ãƒ¬ãƒƒãƒˆã®ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "HACCPæ³•åˆ¶åŒ–ã«å¯¾å¿œã—ã€è¡›ç”Ÿç®¡ç†ã®è¨˜éŒ²ãƒ»é‹ç”¨ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹IoTãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åç§°ã¯ï¼Ÿ",
        "answer": "UPR HACCP",
        "options": ["HACCP Manager", "UPR Clean", "UPR HACCP", "è¡›ç”ŸIoT"],
        "explanation": "é£Ÿå“è¡›ç”Ÿç®¡ç†ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ICTäº‹æ¥­ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ãƒ“ãƒ¼ã‚¯ãƒ«ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³äº‹æ¥­ã«å«ã¾ã‚Œã‚‹ä¸»ãªã‚µãƒ¼ãƒ“ã‚¹ã¯ï¼Ÿ",
        "answer": "ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°äº‹æ¥­æ”¯æ´",
        "options": ["ãƒ‰ãƒ­ãƒ¼ãƒ³é…é€", "è‡ªå‹•é‹è»¢ã‚·ã‚¹ãƒ†ãƒ è²©å£²", "ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°äº‹æ¥­æ”¯æ´", "é›»æ°—è‡ªå‹•è»Šã®ãƒªãƒ¼ã‚¹"],
        "explanation": "ã‚«ãƒ¼ã‚·ã‚§ã‚¢ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚„éµç®¡ç†ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ¬ãƒ³ã‚¿ãƒ«ã«ãŠã‘ã‚‹ã€Œãƒ‡ãƒã€ã¨ã¯ä½•ã‚’æŒ‡ã™ã‹ï¼Ÿ",
        "answer": "ãƒ‘ãƒ¬ãƒƒãƒˆã®ä¿ç®¡å ´æ‰€",
        "options": ["ãƒ‘ãƒ¬ãƒƒãƒˆã®è£½é€ å·¥å ´", "ãƒ‘ãƒ¬ãƒƒãƒˆã®ä¿ç®¡å ´æ‰€", "å–¶æ¥­æ‹ ç‚¹", "è¼¸é€ç”¨ã®ãƒˆãƒ©ãƒƒã‚¯"],
        "explanation": "å…¨å›½ç´„200ã‚«æ‰€ã«ã‚ã‚‹ãƒ‘ãƒ¬ãƒƒãƒˆä¿ç®¡å ´æ‰€ã§ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "IoTäº‹æ¥­ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€AIã‚«ãƒ¡ãƒ©ã‚’ä½¿ã£ã¦è¡Œã†ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã¯ï¼Ÿ",
        "answer": "è»Šä¸¡å…¥é€€å ´ç®¡ç†ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³",
        "options": ["æ¸©æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ã«ã‚ˆã‚‹ç’°å¢ƒç›£è¦–", "è»Šä¸¡å…¥é€€å ´ç®¡ç†ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³", "ç‰›ã®ç™ºæƒ…æ¤œçŸ¥", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼"],
        "explanation": "ãƒŠãƒ³ãƒãƒ¼èªè¨¼ã«ã‚ˆã‚‹è»Šä¸¡ã®å…¥é€€å ´æ™‚é–“ã®è‡ªå‹•æŠŠæ¡ã«ä½¿ã‚ã‚Œã¾ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "å›½éš›é–“è¼¸é€ä¸­ã®è·ç‰©ã®è¿½è·¡ã«ç‰¹åŒ–ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã¯ï¼Ÿ",
        "answer": "ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚­ãƒ¼ãƒ‘ãƒ¼",
        "options": ["ãªã‚“ã¤ã„", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼", "ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚­ãƒ¼ãƒ‘ãƒ¼", "ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ­ã‚¸"],
        "explanation": "ä¸–ç•Œã®ã‚ã‚‰ã‚†ã‚‹å ´æ‰€ã¸è¼¸é€ã•ã‚Œã‚‹è·ç‰©ã®ä½ç½®ãƒ»çŠ¶æ…‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¿½è·¡ã§ãã¾ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ãƒ‘ãƒ¬ãƒƒãƒˆã‚’æ’®å½±ã™ã‚‹ã ã‘ã§æšæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ï¼Ÿ",
        "answer": "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼",
        "options": ["ãƒ‘ãƒ¬ãƒƒãƒˆãƒã‚¹ã‚¿ãƒ¼", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒã‚§ãƒƒã‚«ãƒ¼", "ãƒ‘ãƒ¬ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ³ãƒ€ãƒ¼", "æ•°ãˆéƒ"],
        "explanation": "ã‚«ãƒ¡ãƒ©ã§è‰²ã¨æšæ•°ã‚’ç¬æ™‚ã«åˆ¤åˆ¥ã§ãã‚‹ã‚¢ãƒ—ãƒªã§ã™ã€‚"
    },
    {
        "category": "ã‚µãƒ¼ãƒ“ã‚¹",
        "question": "ã‚³ãƒã‚¯ãƒ†ã‚£ãƒƒãƒ‰äº‹æ¥­ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«å«ã¾ã‚Œãªã„ã‚‚ã®ã¯ï¼Ÿ",
        "answer": "ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„äº‹æ¥­",
        "options": ["ICTäº‹æ¥­", "ãƒ“ãƒ¼ã‚¯ãƒ«ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³äº‹æ¥­", "ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„äº‹æ¥­", "é éš”ç›£è¦–ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³"],
        "explanation": "ã‚¢ã‚·ã‚¹ãƒˆã‚¹ãƒ¼ãƒ„äº‹æ¥­ã¯ç‰©æµäº‹æ¥­ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã«å«ã¾ã‚Œã¾ã™ã€‚"
    },
    # --- è²¡å‹™ãƒ»IRãƒ»æ­´å²ãƒ»ãã®ä»– (10å•) ---
    {
        "category": "æ­´å²/IR",
        "question": "uprã®è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ã¯ï¼Ÿ",
        "answer": "7065",
        "options": ["7065", "9090", "2323", "4649"],
        "explanation": "æ±äº¬è¨¼åˆ¸å–å¼•æ‰€ï¼ˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰å¸‚å ´ï¼‰ã§ã®è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ã¯ã€Œ7065ã€ã§ã™ã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "uprã®æ±ºç®—æœŸï¼ˆäº‹æ¥­å¹´åº¦ã®æœ«æ—¥ï¼‰ã¯ä½•æœˆï¼Ÿ",
        "answer": "8æœˆ",
        "options": ["3æœˆ", "8æœˆ", "9æœˆ", "12æœˆ"],
        "explanation": "uprã®æ±ºç®—æœˆã¯8æœˆã§ã™ï¼ˆæ¯å¹´9æœˆ1æ—¥ã€œç¿Œå¹´8æœˆ31æ—¥ï¼‰ã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "ç¾åœ¨ã®ã€Œãƒ¦ãƒ¼ãƒ”ãƒ¼ã‚¢ãƒ¼ãƒ«æ ªå¼ä¼šç¤¾ã€ã¸ç¤¾åãŒå¤‰æ›´ã•ã‚ŒãŸè¥¿æš¦ã¯ï¼Ÿ",
        "answer": "2007å¹´",
        "options": ["1999å¹´", "2002å¹´", "2007å¹´", "2014å¹´"],
        "explanation": "2007å¹´ã«ã€Œã‚¦ãƒ™ãƒ‘ãƒ¬ãƒƒãƒˆãƒ¬ãƒ³ã‚¿ãƒ«ãƒªãƒ¼ã‚·ãƒ³ã‚°æ ªå¼ä¼šç¤¾ã€ã‹ã‚‰å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "å‰µæ¥­å®¶ã§ã‚ã‚‹é…’ç”°å®¶ã®åˆä»£ç¤¾é•·ã¯ï¼Ÿ",
        "answer": "é…’ç”° ä¸‰ç”·",
        "options": ["é…’ç”° ç¾©çŸ¢", "é…’ç”° ä¸‰ç”·", "é…’ç”° å¥æ²»", "é…’ç”° æ­£ç¾©"],
        "explanation": "1979å¹´è¨­ç«‹æ™‚ã«é…’ç”°ä¸‰ç”·æ°ãŒä»£è¡¨å–ç· å½¹ç¤¾é•·ã«å°±ä»»ã—ã¾ã—ãŸã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "uprãŒåˆã‚ã¦æµ·å¤–æ³•äººã‚’è¨­ç«‹ã—ãŸå›½ã¯ï¼Ÿ",
        "answer": "ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«",
        "options": ["ã‚¿ã‚¤", "ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢", "ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«", "ãƒãƒ¬ãƒ¼ã‚·ã‚¢"],
        "explanation": "2011å¹´8æœˆã«ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«æ³•äººã‚’è¨­ç«‹ã—ã¾ã—ãŸã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "ä¸Šå ´ã‚’æœãŸã—ãŸè¥¿æš¦ã¯ï¼Ÿ",
        "answer": "2019å¹´",
        "options": ["2015å¹´", "2017å¹´", "2019å¹´", "2022å¹´"],
        "explanation": "2019å¹´ã«æ±äº¬è¨¼åˆ¸å–å¼•æ‰€å¸‚å ´ç¬¬äºŒéƒ¨ã«ä¸Šå ´ã—ã¾ã—ãŸã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "uprãŒæ¨é€²ã™ã‚‹ã€Œãƒ‘ãƒ¬ãƒƒãƒˆãƒ—ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ã®ç’°å¢ƒã¸ã®æœ€å¤§ã®è²¢çŒ®ã¯ï¼Ÿ",
        "answer": "ç©ºè»Šã§ã®å›åè¼¸é€ï¼ˆç©ºè·èµ°è¡Œï¼‰ã®å‰Šæ¸›",
        "options": ["ãƒ‘ãƒ¬ãƒƒãƒˆè£½é€ æ™‚ã®é›»åŠ›å‰Šæ¸›", "ç©ºè»Šã§ã®å›åè¼¸é€ï¼ˆç©ºè·èµ°è¡Œï¼‰ã®å‰Šæ¸›", "ãƒ‘ãƒ¬ãƒƒãƒˆã®è‡ªå‹•ä¿®ç¹•", "å…¨ã¦é›»æ°—è‡ªå‹•è»Šã§è¼¸é€"],
        "explanation": "è¤‡æ•°ç¤¾ã§ã®å…±åŒåˆ©ç”¨ã«ã‚ˆã‚Šã€ãƒ‘ãƒ¬ãƒƒãƒˆå›åã®ãŸã‚ã®ç„¡é§„ãªè¼¸é€ã‚’æ¸›ã‚‰ã›ã¾ã™ã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "å‰µæ¥­æ™‚ã®ç¤¾åã€Œã‚¦ãƒ™ãƒ‘ãƒ¬ãƒƒãƒˆã€ã®ã€Œã‚¦ãƒ™ã€ãŒæŒ‡ã™åœ°åã¯ï¼Ÿ",
        "answer": "å®‡éƒ¨ï¼ˆå±±å£çœŒï¼‰",
        "options": ["å®‡éƒ¨ï¼ˆå±±å£çœŒï¼‰", "ä¸Šé‡ï¼ˆæ±äº¬éƒ½ï¼‰", "å£²å¸ƒï¼ˆå…µåº«çœŒï¼‰", "å®‡å’Œå³¶ï¼ˆæ„›åª›çœŒï¼‰"],
        "explanation": "å‰µæ¥­åœ°ã§ã‚ã‚‹å±±å£çœŒå®‡éƒ¨å¸‚ã«ç”±æ¥ã—ã¾ã™ã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "uprãŒã‚¿ã‚¤ã«ç¾åœ°æ³•äººã‚’è¨­ç«‹ã—ãŸè¥¿æš¦ã¯ï¼Ÿ",
        "answer": "2014å¹´",
        "options": ["2011å¹´", "2012å¹´", "2014å¹´", "2016å¹´"],
        "explanation": "2014å¹´ã«ã‚¿ã‚¤ç¾åœ°æ³•äººUPR (Thailand) Co.,Ltdã‚’è¨­ç«‹ã—ã¾ã—ãŸã€‚"
    },
    {
        "category": "æ­´å²/IR",
        "question": "é€£çµå¾“æ¥­å“¡æ•°ã¯ã€ãŠã‚ˆãä½•åã‹ï¼Ÿï¼ˆ2024å¹´8æœˆæ™‚ç‚¹ï¼‰",
        "answer": "200åå°",
        "options": ["50åæœªæº€", "100åå°", "200åå°", "500åä»¥ä¸Š"],
        "explanation": "2024å¹´8æœˆæ™‚ç‚¹ã§228åï¼ˆé€£çµï¼‰ã§ã™ã€‚"
    },
]

# ALL_QUESTIONSãŒ100å•ã«æº€ãŸãªã„å ´åˆã€ã‚¨ãƒ©ãƒ¼é˜²æ­¢ã®ãŸã‚å…¨å•é¡Œã‚’å‡ºé¡Œå¯¾è±¡ã¨ã—ã¾ã™ã€‚
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ALL_QUESTIONSã‚’100å•ä»¥ä¸Šã«å¢—ã‚„ã™ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
NUM_QUESTIONS_PER_QUIZ = 10 

# --- 2. Streamlit ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã¨ãƒ­ã‚¸ãƒƒã‚¯ ---

def init_game():
    """ã‚²ãƒ¼ãƒ ã®åˆæœŸåŒ–å‡¦ç†ï¼ˆALL_QUESTIONSã‹ã‚‰NUM_QUESTIONS_PER_QUIZå•ã‚’ãƒ©ãƒ³ãƒ€ãƒ æŠ½å‡ºï¼‰"""
    st.session_state["score"] = 0
    st.session_state["current_q_index"] = 0
    st.session_state["finished"] = False
    st.session_state["answered"] = False # å›ç­”æ¸ˆã¿ãƒ•ãƒ©ã‚°
    st.session_state["user_choice"] = None
    
    # ã€ä¿®æ­£ç¢ºèªã€‘ALL_QUESTIONSã«é‡è¤‡ãŒãªã‘ã‚Œã°ã€random.sample()ã§é¸ã°ã‚ŒãŸ10å•ã¯é‡è¤‡ã—ã¾ã›ã‚“ã€‚
    # ã‚¹ãƒˆãƒƒã‚¯ãŒ100å•æœªæº€ã§10å•ã‚’é¸ã¹ãªã„å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ãŸã‚ã€å®‰å…¨ç­–ã‚’è¬›ã˜ã¾ã™ã€‚
    try:
        st.session_state["questions"] = random.sample(ALL_QUESTIONS, NUM_QUESTIONS_PER_QUIZ)
    except ValueError:
        # ã‚¹ãƒˆãƒƒã‚¯ãŒ10å•æœªæº€ã®å ´åˆã€ã‚¹ãƒˆãƒƒã‚¯å†…ã®å…¨å•é¡Œã‚’å‡ºé¡Œã™ã‚‹
        st.session_state["questions"] = random.sample(ALL_QUESTIONS, len(ALL_QUESTIONS))


# ã‚»ãƒƒã‚·ãƒ§ãƒ³çŠ¶æ…‹ã®åˆæœŸç¢ºèª
if "questions" not in st.session_state or len(st.session_state["questions"]) != NUM_QUESTIONS_PER_QUIZ:
    # æ—¢å­˜ã®è³ªå•ãƒªã‚¹ãƒˆã®é•·ã•ãŒè¨­å®šã¨ç•°ãªã‚‹å ´åˆã‚‚åˆæœŸåŒ–
    init_game()

# --- 3. UI/ãƒ‡ã‚¶ã‚¤ãƒ³ã®åˆ¶å¾¡ ---

# ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚¹ã‚³ã‚¢ã¨é€²æ—ã‚’è¡¨ç¤º
with st.sidebar:
    st.image("https://www.upr-net.co.jp/common/img/logo.png", width=150)
    st.header("ğŸšš uprãƒã‚¹ã‚¿ãƒ¼ã‚¯ã‚¤ã‚º")
    
    if not st.session_state["finished"]:
        # é€²æ—ãƒãƒ¼ã®è¡¨ç¤º
        current = st.session_state["current_q_index"]
        total = len(st.session_state["questions"]) # å®Ÿéš›ã«å‡ºé¡Œã•ã‚Œã‚‹å•é¡Œæ•°ã‚’ä½¿ç”¨
        progress_ratio = current / total if total > 0 else 0
        
        st.subheader(f"é€²æ—: {current + 1} / {total} å•")
        st.progress(progress_ratio)
        
        st.metric("ç¾åœ¨ã®ã‚¹ã‚³ã‚¢", f"{st.session_state['score']} ç‚¹")
        
    if st.button("æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™", key="restart_btn"):
        init_game()
        st.rerun()

# --- 4. ç”»é¢è¡¨ç¤ºã¨ãƒ•ãƒ­ãƒ¼åˆ¶å¾¡ ---

# --- ã‚¯ã‚¤ã‚ºçµ‚äº†æ™‚ã®ç”»é¢ ---
if st.session_state["finished"]:
    st.balloons()
    score = st.session_state["score"]
    total = len(st.session_state["questions"])
    
    st.markdown("<h1 style='color:#387ef5;'>çµæœç™ºè¡¨ï¼</h1>", unsafe_allow_html=True)
    st.markdown(f"## ğŸ† ã‚¹ã‚³ã‚¢: **{total}å•ä¸­ {score}å• æ­£è§£**")
    
    if score == total:
        st.success("ğŸ‰ å…¨å•æ­£è§£ï¼ã‚ãªãŸã¯çœŸã®uprãƒã‚¹ã‚¿ãƒ¼ã§ã™ï¼")
    elif score >= total * 0.7:
        st.info("ğŸ‘ ç´ æ™´ã‚‰ã—ã„ï¼uprã®çŸ¥è­˜ã¯å®Œç’§ã«è¿‘ã„ã§ã™ã€‚")
    else:
        st.warning("ğŸ§ ã‚ã¨å°‘ã—ï¼Webã‚µã‚¤ãƒˆã§å¾©ç¿’ã—ã€å†ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¾ã—ã‚‡ã†ã€‚")
    
    st.markdown("---")
    if st.button("æ–°ã—ã„10å•ã«æŒ‘æˆ¦ã™ã‚‹ï¼"):
        init_game()
        st.rerun()

# --- ã‚¯ã‚¤ã‚ºé€²è¡Œä¸­ã®ç”»é¢ ---
else:
    idx = st.session_state["current_q_index"]
    q_data = st.session_state["questions"][idx]
    
    # å•é¡Œãƒ˜ãƒƒãƒ€ãƒ¼
    st.markdown(f"<span style='background-color:#E0F7FA; padding:5px 10px; border-radius:5px; font-weight:bold; color:#00BCD4;'>{q_data['category']}</span>", unsafe_allow_html=True)
    st.markdown(f"## ç¬¬ {idx + 1} å•: {q_data['question']}")
    st.markdown("---")

    # é¸æŠè‚¢ã®ã‚³ãƒ³ãƒ†ãƒŠ
    choices_container = st.container()
    
    # é¸æŠè‚¢ã‚’ãƒœã‚¿ãƒ³ã¨ã—ã¦è¡¨ç¤º
    with choices_container:
        cols = st.columns(len(q_data["options"]))
        for i, option in enumerate(q_data["options"]):
            with cols[i]:
                # å›ç­”ç¢ºå®šå‰ã®ã¿ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹
                if not st.session_state["answered"]:
                    if st.button(option, key=f"opt_{idx}_{i}", use_container_width=True):
                        
                        # ã€ã‚¹ã‚³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä¿®æ­£ç‚¹ã€‘
                        # å›ç­”ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸç¬é–“ã«ã‚¹ã‚³ã‚¢ã‚’ç¢ºå®šã•ã›ã‚‹
                        is_correct = (option == q_data["answer"])
                        if is_correct:
                            st.session_state["score"] += 1
                        
                        # å›ç­”ç¢ºå®šå‡¦ç†
                        st.session_state["user_choice"] = option
                        st.session_state["answered"] = True
                        st.rerun() # çµæœè¡¨ç¤ºã®ãŸã‚ã«å†æç”»
                else:
                    # å›ç­”å¾Œã¯ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¦è¡¨ç¤º
                    # ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®šã¯ä¸è¦ã€‚ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã“ã¨ã§è‰²ãŒå¤‰ã‚ã‚‹ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã—ã¦æˆç«‹ï¼‰
                    st.button(option, key=f"opt_{idx}_{i}", use_container_width=True, disabled=True)
    
    st.markdown("---")
    
    # --- å›ç­”å¾Œã®å‡¦ç†ï¼ˆæ­£èª¤åˆ¤å®šã¨è§£èª¬ï¼‰ ---
    if st.session_state["answered"]:
        user_choice = st.session_state["user_choice"]
        
        # åˆ¤å®šè¡¨ç¤º
        if user_choice == q_data["answer"]:
            st.success(f"âœ… æ­£è§£ï¼ ã‚ãªãŸã®å›ç­”: **{user_choice}**")
        else:
            st.error(f"âŒ ä¸æ­£è§£... ã‚ãªãŸã®å›ç­”: **{user_choice}**")
        
        # è§£èª¬è¡¨ç¤º
        st.markdown(f"#### æ­£è§£ã¯ **{q_data['answer']}** ã§ã—ãŸã€‚")
        st.markdown(f"**ğŸ’¡ è§£èª¬:** {q_data['explanation']}")
        
        st.markdown("---")
        
        # æ¬¡ã¸ãƒœã‚¿ãƒ³
        if idx + 1 >= len(st.session_state["questions"]):
            if st.button("ğŸ‰ çµæœã‚’è¦‹ã‚‹", use_container_width=True):
                st.session_state["finished"] = True
                st.rerun()
        else:
            if st.button("â–¶ï¸ æ¬¡ã®å•é¡Œã¸é€²ã‚€", use_container_width=True):
                st.session_state["current_q_index"] += 1
                st.session_state["answered"] = False # å›ç­”ãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ
                st.session_state["user_choice"] = None # é¸æŠè‚¢ã‚’ãƒªã‚»ãƒƒãƒˆ
                st.rerun()